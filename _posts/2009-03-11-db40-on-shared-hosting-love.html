---
layout: "post"
title: "db40 on shared hosting love"
date: "2009-03-11"
description: "I’m tired of fighting the ORM battle, L2S, SubSonic, NHibernate, Lightspeed, etc. They’re all great products but painful to use because they are all “bandages” on the problem of ob"
tags:
  - wordpress
  - republished
  - wayback
  - c
originally_published_on: "WordPress"
original_url: "https://web.archive.org/web/20100120151647/http://just3ws.wordpress.com/2009/03/11/db4o-on-shared-hosting-love/"
original_published_at: "2009-03-11"
archive_note: "Originally published on just3ws.wordpress.com. Republished from local Wayback snapshot exports."
---

<div class="snap_preview">
<p>I’m tired of fighting the ORM battle, L2S, SubSonic, NHibernate, Lightspeed, etc. They’re all great products but painful to use because they are all “bandages” on the problem of object-relational impedance. So I thought I’d try something different, <a href="http://developer.db4o.com/files/" rel="noopener noreferrer" target="_blank">db4o</a>. db4o is an object database. No tables, no ORM, nada. Just POCO love, it’s like the repository pattern on steroids. My big concerns were licensing costs and the fact that I deploy on a shared host. Both of which were misplaced.</p>
<p>The licensing cost for an In-Process database for commercial use was comparable to a standard ReSharper license. So it’s within the reach of “normal” developers who’d like to use the database for their web application. If you’re writing an open-source application or one that is not for redistribution, then the GPL license will be fine for your purposes. Honestly, I was expecting thousands of dollars for the licensing, as the technology is so impressive.</p>
<p>After finding out that the pricing was within reason I was excited but afraid that it’s all well and good that I can afford it but I’m using shared hosting, so it’s going to be impossible to deploy. Wrong again! The In-Process database only requires a single DLL to function. Let me reiterate that, the entire db4o system is contained in a *single* library that only requires medium trust and the ability to write to a file. So I used some of the demo code provided by db4o and whipped up a little POC to see if this would work on my <a href="http://payments.reliablesite.net/aff.php?aff=073" rel="noopener noreferrer" target="_blank">ReliableSite.net</a> account.</p>
<p>Just add a reference to <strong>Db4objects.Db4o.dll</strong> and make sure “Copy Local” is set to true.</p>
<p>Define your POCO.</p>
<pre class="brush: csharp;">namespace Nuscia.Models
{
  public class Person
  {
    /// &lt;summary&gt;
    /// Initializes a new instance of the &lt;see cref="Person"/&gt; class.
    /// &lt;/summary&gt;
    /// &lt;param name="name"&gt;The name.&lt;/param&gt;
    /// &lt;param name="number"&gt;The points.&lt;/param&gt;
    public Person(string name, int number)
    {
      this.Name = name;
      this.Number = number;
    }

    /// &lt;summary&gt;
    /// Gets or sets the points.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The points.&lt;/value&gt;
    public int Number { get; set; }

    /// &lt;summary&gt;
    /// Gets or sets the name.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The name.&lt;/value&gt;
    public string Name { get; set; }

    /// &lt;summary&gt;
    /// Returns a &lt;see cref="T:System.String"/&gt; that represents the current &lt;see cref="T:System.Object"/&gt;.
    /// &lt;/summary&gt;
    /// &lt;returns&gt;
    /// A &lt;see cref="T:System.String"/&gt; that represents the current &lt;see cref="T:System.Object"/&gt;.
    /// &lt;/returns&gt;
    public override string ToString()
    {
      return string.Format("{0}/{1}", this.Name, this.Number);
    }
  }
}
</pre>
<p>This is a very simplistic example where two objects are created and inserted then selected back from the database. Notice that the In-Process model uses a file store, so you’ll need to specify a directory that has RW+ access.</p>
<pre class="brush: csharp;">using (IObjectContainer container = Db4oFactory.OpenFile("C:\\HostingSpaces\\ACCOUNT_NAME\\DOMAIN_NAME.TLD\\data\\MY_DB4O_FILE.db"))
{
  container.Store(new Person("Penelope", 100));
  container.Store(new Person("Aneta", 200));
  IObjectSet results = container.Query(typeof (Person));
  foreach (object result in results)
  {
    this.ViewData["db4o"] += string.Format("{0}&amp;nbsp;", result);
  }
}
</pre>
<p>That’s it, deploy and run. You can see in my example I was running the snippet directly from my ASP.NET MVC controller, obviously it is POC code and not how you would want to structure your real application. No muss, no fuss, just pure OO persistence goodness out of the box.</p>
<p>[edit: I can't believe I typed db40 as the title!]</p>
</div>
