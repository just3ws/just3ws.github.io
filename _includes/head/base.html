{% assign seo_title = page.title | default: "Mike Hall" %}
{% assign seo_description = page.description | default: "Staff-level software engineer with expertise in Ruby, Rails, PostgreSQL, and scalable backend systems." %}
{% if seo_title.size < 30 %}
  {% assign seo_title = seo_title | append: " | Mike Hall Archive" %}
{% endif %}
{% if seo_title.size > 70 %}
  {% assign seo_title = seo_title | truncate: 70, "…" %}
{% endif %}
{% if seo_description.size < 70 %}
  {% assign seo_description = seo_description | append: " This page is part of Mike Hall's curated engineering archive and resume." %}
{% endif %}
{% if seo_description.size > 160 %}
  {% assign seo_description = seo_description | truncate: 160, "…" %}
{% endif %}
{% assign site_url = site.url | default: "https://www.just3ws.com" %}
{% if site_url == "" or site_url contains "localhost" %}
  {% assign site_url = "https://www.just3ws.com" %}
{% endif %}
{% assign canonical_url = page.canonical_url %}
{% if canonical_url == nil or canonical_url == "" %}
  {% assign canonical_url = site_url | append: page.url %}
{% endif %}
{% assign robots_directive = page.robots %}
{% if robots_directive == nil or robots_directive == "" %}
  {% assign robots_directive = "index,follow" %}
{% endif %}
<title>{{ seo_title }}</title>
<meta name="description" content="{{ seo_description }}">
<meta name="author" content="Mike Hall">
<link rel="canonical" href="{{ canonical_url }}">
<meta name="robots" content="{{ robots_directive }}">
<meta property="og:title" content="{{ seo_title }}">
<meta property="og:description" content="{{ seo_description }}">
<meta property="og:url" content="{{ canonical_url }}">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Mike Hall">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="{{ seo_title }}">
<meta name="twitter:description" content="{{ seo_description }}">
<link rel="shortcut icon" href="/favicon.ico">
{% assign defer_stylesheets = include.defer_stylesheets %}
{% if defer_stylesheets %}
<link rel="preload" href="/assets/css/core.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{{ include.theme_stylesheet }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript>
  <link rel="stylesheet" href="/assets/css/core.css">
  <link rel="stylesheet" href="{{ include.theme_stylesheet }}">
</noscript>
{% else %}
<link rel="stylesheet" href="/assets/css/core.css">
<link rel="stylesheet" href="{{ include.theme_stylesheet }}">
{% endif %}
{% if page.stylesheets and page.stylesheets.size > 0 %}
  {% for stylesheet in page.stylesheets %}
<link rel="stylesheet" href="{{ stylesheet }}">
  {% endfor %}
{% endif %}
