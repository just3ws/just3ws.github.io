{% assign detail_url = "/vimeo/videos/" | append: item.id | append: "/" %}
{% assign thumb = item.thumbnail_local | default: item.thumbnail %}
{% assign title_text = item.topic | default: item.title %}

<div class="video">
  {% if thumb %}
    <a class="video-thumb" href="{{ detail_url }}">
      <img src="{{ thumb }}" alt="Thumbnail for {{ item.title }}">
    </a>
  {% endif %}
  <div class="video-body">
    <div class="video-title"><a href="{{ detail_url }}">{{ title_text }}</a></div>
    {% if item.speakers and item.speakers.size > 0 %}
      <div class="video-subtitle">Speaker: {{ item.speakers | join: ", " }}</div>
    {% elsif item.people and item.people.size > 0 %}
      <div class="video-subtitle">People: {{ item.people | join: ", " }}</div>
    {% endif %}
    <div class="video-meta">
      {% if item.duration_minutes %}Duration: {{ item.duration_minutes | round }} min Â· {% endif %}Uploaded: {{ item.created | date: "%b %d, %Y" }}
    </div>
    <div class="video-actions">
      <a class="video-button" href="{{ item.link }}">Watch on Vimeo</a>
    </div>
    {% if item.tags and item.tags.size > 0 %}
      <div class="video-tags">
        {% for tag in item.tags %}
          <span class="tag">{{ tag }}</span>
        {% endfor %}
      </div>
    {% endif %}
    {% if item.description %}
      <div class="video-description"><span class="video-description-label">Vimeo description:</span> {{ item.description }}</div>
    {% endif %}
  </div>
</div>
