{% assign asset = include.asset %}
{% assign interview = include.interview %}
{% if asset == nil and interview %}
  {% assign asset = site.data.interview_assets.items | where: "interview_id", interview.id | where: "source", "ugtastic" | first %}
{% endif %}
{% assign detail_url = "/interviews/" | append: interview.id | append: "/" %}
{% if asset and asset.asset_id %}
  {% assign detail_url = "/ugtastic/videos/" | append: asset.asset_id | append: "/" %}
{% endif %}

<div class="video">
  {% if asset and asset.thumbnail %}
    <a class="video-thumb" href="{{ detail_url }}">
      <img src="{{ asset.thumbnail }}" alt="Thumbnail for {{ interview.title }}">
    </a>
  {% endif %}
  <div class="video-body">
    <div class="video-title"><a href="{{ detail_url }}">{{ interview.title }}</a></div>
    {% if interview.interviewees and interview.interviewees.size > 0 %}
      <div class="video-subtitle">Interviewee{% if interview.interviewees.size > 1 %}s{% endif %}: {{ interview.interviewees | join: ", " }}</div>
    {% endif %}
    {% if interview.topic %}
      <div class="video-subtitle">Topic: {{ interview.topic }}</div>
    {% endif %}
    <div class="video-meta">
      {% if asset and asset.published_date %}Published: {{ asset.published_date | date: "%b %d, %Y" }}{% endif %}
    </div>
    <div class="video-actions">
      <a class="video-button primary" href="{{ detail_url }}">Watch Here</a>
      {% if asset and asset.url %}<a class="video-button" href="{{ asset.url }}">Watch on Vimeo</a>{% endif %}
    </div>
  </div>
</div>
